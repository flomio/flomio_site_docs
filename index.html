<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;objective_c&quot;,&quot;swift&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="objective_c">objective_c</a>
              <a href="#" data-language-name="swift">swift</a>
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="welcome">Welcome</h1>

<p>Welcome to Flomio!! Get familiar with the Flomio products and explore their features in the <a href="https://flomio.com/shop/">Flomio Shop</a></p>

<p>Flomio builds hardware and software solutions in the proximity ID space. With a focus on mobile platforms, Flomio makes it easy to integrate our readers into Apps for iOS and Android.</p>

<p>You can use the Flomio SDK alongside any of Flomio&rsquo;s line of NFC, BLE, and UHF RFID readers.</p>

<p>You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<h1 id="getting-started">Getting Started</h1>

<p>Flomio helps you build apps with NFC and RFID support so you can scan a tag to get a unique ID or read data. If after reading through this you still need a help, feel free to <a href="https://flomio.com/forums/forum/ask-the-flomies/">ask the flomies</a>.</p>

<p>Our Flomio SDK consists of native libraries for Android and iOS that let you collect NFC and RFID without having to deal with the stress of managing the low level interactions between the reader and tag. The Flomio SDK comes in 2 flavors, Basic and Pro. The Basic SDK checks for proper license on our cloud server so it requires connectivity to work. The Pro SDK works completely offline. More details in FAQ section below. </p>

<p>To be sure your reader hardware is fully operational you should install the Flomio Test app via TestFlight. This will help resolve most issues you may encounter during your integration.</p>

<h2 id="install-flomio-test-app">Install Flomio Test app</h2>

<p>You can now register to <a href="https://flomio-mw.herokuapp.com/">download the Flomio Test app</a> via TestFlight. Once registered, you&rsquo;ll receive an email from the Apple TestFlight system directing you to install the TestFlight app and subsequently the Flomio Test app from within TestFlight. Once installed, the Flomio Test app will launch with a menu of our supported readers including:</p>

<ul>
<li>FloJack BZR</li>
<li>FloJack MSR</li>
<li>FloJack Gen2</li>
<li>FloBLE EMV</li>
<li>FloBLE Plus</li>
</ul>

<p>You will need to plug in the FloJack readers into the audio jack port of your iOS device or power on the FloBLE readers before selecting the appropriate reader from the menu. In order for the FloJack readers to operate well, make sure the volume of your iOS device is raised to the max. This is because the data is exchanged via audio modulation so the higher signal strength, the better data is captured by the reader. Also, the readers should be fully charged for best results. This is done by plugging in the readers to USB power and observing charging RED led indicator go off. At this point the device is fully charged. </p>

<h2 id="download-the-framework">Download the Framework</h2>

<p><a href="https://github.com/flomio/flomio-sdk-ios/releases">Download the latest Flomio SDK</a> and unzip it. </p>

<h2 id="build-the-example-app">Build the Example App</h2>

<p>Example iOS projects can be seen on the <a href="https://github.com/flomio/flomio-sdk-ios">flomio-sdk-ios</a> repo. </p>

<h2 id="cocoapods-and-carthage">Cocoapods and Carthage</h2>

<p>To use the FlomioSDK with Cocoapods, follow the instructions from the <a href="https://github.com/flomio/flomio-sdk-ios">flomio-sdk-ios</a> repo.</p>

<p>You can also manage your project&rsquo;s FlomioSDK dependency using Carthage. </p>

<p>Follow <a href="https://github.com/Carthage/Carthage#adding-frameworks-to-an-application">these instructions</a> to get setup.</p>

<p>Add <code class="prettyprint">github &quot;https://github.com/flomio/flomio-sdk-ios&quot;</code> to your Cartfile before running <code class="prettyprint">carthage update</code>.
You will still need to configure your project settings by following the steps in the <a href="#configure-project-settings">Configure Project Settings</a> section.</p>

<h1 id="ios-integration">iOS Integration</h1>

<p>Our iOS libraries let you easily collect your customers/items tag information in your iOS app. Follow the instructions below to add the SDK to your project. </p>

<h2 id="configure-project-settings">Configure Project Settings</h2>

<ol>
<li><p>Drag+drop the FlomioSDK.framework file into your Xcode Project.
Make sure the &ldquo;Copy items if needed&rdquo; option is selected 
and click &ldquo;Create groups&rdquo; and &ldquo;Finish&rdquo; in dialog.
It will be added to &ldquo;Linked Frameworks and Libraries&rdquo; section in project settings.</p></li>
<li><p><code class="prettyprint">In Targets -&gt; YourAppTarget -&gt; General -&gt; Embedded Binaries, add the FlomioSDK</code></p></li>
<li><p>You must configure your application with the following settings.<br>
Click the Project Navigator (on the left), then click the
application name under TARGET. <code class="prettyprint">In Targets -&gt; YourAppTarget -&gt; Build Settings 
-&gt; Linking -&gt; Other Linker Flags add ‘-lc++’ and ’-ObjC’</code></p></li>
<li><p><code class="prettyprint">In Targets -&gt; YourAppTarget -&gt; Build Options 
-&gt; Enable Bitcode set to ‘No’</code></p></li>
<li><p><code class="prettyprint">In Targets -&gt; YourAppTarget -&gt; Build Phases
-&gt; Link Binary with Libraries, add MediaPlayer.Framework and libz.tbd</code></p></li>
<li><p>(optional) <code class="prettyprint">In Target -&gt; Build Settings
-&gt; Apple LLVM 9.0-Preprocessing -&gt; Preprocessor Macros add ‘DEBUGLOG’</code></p></li>
</ol>

<h2 id="initialize-the-flomio-sdk">Initialize the Flomio SDK</h2>

<p>You should only initialize the SDK once per session. This should be called when you want to use your reader,
after that you should use the <code class="prettyprint">startReaders</code> and <code class="prettyprint">stopReaders</code> methods on <a href="#fmsessionmanager">FmSessionManager</a> to
control the readers.
See <a href="#fmconfiguration">FmConfiguration</a> for more information on the configuration.</p>
<pre class="highlight objective_c"><code>    <span class="o">------------------------------------------</span>
    <span class="c1">// in YourViewController.h, add this to viewDidLoad
</span>    <span class="cp">#import &lt;FlomioSDK/FlomioSDK.h&gt;
</span>    <span class="c1">// For Pro Users
</span>    <span class="c1">// #import &lt;FlomioSDKPro/FlomioSDKPro.h&gt;
</span>
    <span class="k">@interface</span> <span class="nc">ViewController</span> <span class="p">:</span> <span class="nc">UIViewController</span> <span class="o">&lt;</span><span class="n">FmSessionManagerDelegate</span><span class="o">&gt;</span> <span class="p">{</span>  
        <span class="n">NSString</span> <span class="o">*</span><span class="n">_deviceUid</span><span class="p">;</span>
        <span class="n">FmSessionManager</span> <span class="o">*</span><span class="n">flomioSDK</span><span class="p">;</span>
    <span class="p">}</span>   

    <span class="k">@end</span>

    <span class="o">------------------------------------------</span>
    <span class="c1">// in YourViewController.m, add this to viewDidLoad
</span>    <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">viewDidLoad</span> <span class="p">{</span>
        <span class="n">FmConfiguration</span> <span class="o">*</span><span class="n">defaultConfiguration</span> <span class="o">=</span> <span class="p">[[</span><span class="n">FmConfiguration</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
        <span class="n">defaultConfiguration</span><span class="p">.</span><span class="n">deviceType</span> <span class="o">=</span> <span class="n">kFloBlePlus</span><span class="p">;</span>
        <span class="n">defaultConfiguration</span><span class="p">.</span><span class="n">scanSound</span> <span class="o">=</span> <span class="nb">@YES</span><span class="p">;</span>
        <span class="n">defaultConfiguration</span><span class="p">.</span><span class="n">scanPeriod</span> <span class="o">=</span> <span class="mi">@1000</span><span class="p">;</span>
        <span class="n">defaultConfiguration</span><span class="p">.</span><span class="n">powerOperation</span> <span class="o">=</span> <span class="n">kAutoPollingControl</span><span class="p">;</span>
        <span class="n">defaultConfiguration</span><span class="p">.</span><span class="n">transmitPower</span> <span class="o">=</span> <span class="n">kHighPower</span><span class="p">;</span>
        <span class="n">defaultConfiguration</span><span class="p">.</span><span class="n">allowMultiConnect</span> <span class="o">=</span> <span class="nb">@NO</span><span class="p">;</span>
        <span class="n">defaultConfiguration</span><span class="p">.</span><span class="n">specificDeviceUid</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
        <span class="n">flomioSDK</span> <span class="o">=</span> <span class="p">[[</span><span class="n">FmSessionManager</span> <span class="nf">flomioMW</span><span class="p">]</span> <span class="nf">initWithConfiguration</span><span class="p">:</span><span class="n">defaultConfiguration</span><span class="p">];</span>
        <span class="n">flomioSDK</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">self</span><span class="p">;</span>
    <span class="p">}</span>

</code></pre><pre class="highlight swift"><code>
    <span class="kd">import</span> <span class="kt">FlomioSDK</span> 
    <span class="c1">// For Pro Users</span>
    <span class="c1">// import FlomioSDKPro</span>

    <span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">,</span> <span class="kt">FmSessionManagerDelegate</span> <span class="p">{</span>

        <span class="k">var</span> <span class="nv">flomioSDK</span> <span class="p">:</span> <span class="kt">FmSessionManager</span> <span class="o">=</span> <span class="kt">FmSessionManager</span><span class="p">()</span>
        <span class="k">var</span> <span class="nv">deviceUid</span> <span class="o">=</span> <span class="s">""</span>

        <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

            <span class="k">let</span> <span class="nv">defaultConfiguration</span><span class="p">:</span> <span class="kt">FmConfiguration</span> <span class="o">=</span> <span class="kt">FmConfiguration</span><span class="p">();</span>
            <span class="n">defaultConfiguration</span><span class="o">.</span><span class="n">deviceType</span> <span class="o">=</span> <span class="kt">DeviceType</span><span class="o">.</span><span class="n">kFloBlePlus</span><span class="p">;</span>
            <span class="n">defaultConfiguration</span><span class="o">.</span><span class="n">transmitPower</span> <span class="o">=</span> <span class="kt">TransmitPower</span><span class="o">.</span><span class="n">highPower</span><span class="p">;</span>
            <span class="n">defaultConfiguration</span><span class="o">.</span><span class="n">scanSound</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
            <span class="n">defaultConfiguration</span><span class="o">.</span><span class="n">scanPeriod</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
            <span class="n">defaultConfiguration</span><span class="o">.</span><span class="n">powerOperation</span> <span class="o">=</span> <span class="kt">PowerOperation</span><span class="o">.</span><span class="n">autoPollingControl</span><span class="p">;</span>
            <span class="n">defaultConfiguration</span><span class="o">.</span><span class="n">allowMultiConnect</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
            <span class="n">flomioSDK</span> <span class="o">=</span> <span class="kt">FmSessionManager</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="n">defaultConfiguration</span><span class="p">);</span>
            <span class="n">flomioSDK</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span><span class="p">;</span> 
        <span class="p">}</span>

    <span class="p">}</span>

</code></pre>
<h2 id="listen-for-reader-events">Listen for Reader Events</h2>

<p>See <a href="#fmsessionmanagerdelegate">FmSessionManagerDelegate Methods</a> for more information on the delegate methods.</p>
<pre class="highlight objective_c"><code>
    <span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">didFindTag</span><span class="p">:(</span><span class="n">FmTag</span> <span class="o">*</span><span class="p">)</span><span class="nv">tag</span> <span class="nf">fromDevice</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">deviceUid</span><span class="p">{</span>

    <span class="p">}</span>

    <span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">didReceiveReaderError</span><span class="p">:(</span><span class="n">NSError</span> <span class="o">*</span><span class="p">)</span><span class="nv">error</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">didChangeCardStatus</span><span class="p">:(</span><span class="n">CardStatus</span><span class="p">)</span><span class="nv">status</span> <span class="nf">fromDevice</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">deviceUid</span><span class="p">{</span>

    <span class="p">}</span>

    <span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">didChangeStatus</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">deviceUid</span> <span class="nf">withConfiguration</span><span class="p">:(</span><span class="n">FmConfiguration</span> <span class="o">*</span><span class="p">)</span><span class="nv">configuration</span> <span class="nf">andBatteryLevel</span><span class="p">:(</span><span class="n">NSNumber</span> <span class="o">*</span><span class="p">)</span><span class="nv">batteryLevel</span> <span class="nf">andCommunicationStatus</span><span class="p">:(</span><span class="n">CommunicationStatus</span><span class="p">)</span><span class="nv">communicationStatus</span> <span class="nf">withFirmwareRevision</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">firmwareRev</span> <span class="nf">withHardwareRevision</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">hardwareRev</span><span class="p">{</span>
    <span class="p">}</span>

    <span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">didGetLicenseInfo</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">deviceUid</span> <span class="nf">withStatus</span><span class="p">:(</span><span class="n">BOOL</span><span class="p">)</span><span class="nv">isRegistered</span><span class="p">{</span>

    <span class="p">}</span>

</code></pre><pre class="highlight swift"><code>
    <span class="kd">func</span> <span class="nf">didFind</span><span class="p">(</span><span class="n">_</span> <span class="nv">tag</span><span class="p">:</span> <span class="kt">FmTag</span><span class="o">!</span><span class="p">,</span> <span class="n">fromDevice</span> <span class="nv">deviceId</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">didChangeStatus</span><span class="p">(</span><span class="n">_</span> <span class="nv">deviceUid</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span><span class="p">,</span> <span class="n">with</span> <span class="nv">configuration</span><span class="p">:</span> <span class="kt">FmConfiguration</span><span class="o">!</span><span class="p">,</span> <span class="n">andBatteryLevel</span> <span class="nv">batteryLevel</span><span class="p">:</span> <span class="kt">NSNumber</span><span class="o">!</span><span class="p">,</span> <span class="n">andCommunicationStatus</span> <span class="nv">communicationStatus</span><span class="p">:</span> <span class="kt">CommunicationStatus</span><span class="p">,</span> <span class="n">withFirmwareRevision</span> <span class="nv">firmwareRev</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span><span class="p">,</span> <span class="n">withHardwareRevision</span> <span class="nv">hardwareRev</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">didGetLicenseInfo</span><span class="p">(</span><span class="n">_</span> <span class="nv">deviceUid</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span><span class="p">,</span> <span class="n">withStatus</span> <span class="nv">isRegistered</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">didChange</span><span class="p">(</span><span class="n">_</span> <span class="nv">status</span><span class="p">:</span> <span class="kt">CardStatus</span><span class="p">,</span> <span class="n">fromDevice</span> <span class="nv">device</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">didReceiveReaderError</span><span class="p">(</span><span class="n">_</span> <span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">}</span>
</code></pre>
<h2 id="reading-tags">Reading Tags</h2>

<p>In the <code class="prettyprint">didFindTagFromDevice</code> callback, call the <code class="prettyprint">readNdef</code> method on the <a href="#fmtag">FmTag</a> object 
to read NDEF formatted data from your tag. Within the completion handler, iterate through the <a href="#fmndefrecord">FmNdefRecord</a>s
in the <a href="#fmndefmessage">FmNdefMessage</a> to see the payload present in your tag. If there is 
a URL, our SDK provides a convenience parameter with the URL as a string.</p>
<pre class="highlight objective_c"><code>
    <span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">didFindTag</span><span class="p">:(</span><span class="n">FmTag</span> <span class="o">*</span><span class="p">)</span><span class="nv">tag</span> <span class="nf">fromDevice</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">deviceUid</span><span class="p">{</span>
        <span class="p">[</span><span class="n">tag</span> <span class="nf">readNdef</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">FmNdefMessage</span> <span class="o">*</span><span class="n">ndef</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ndef</span><span class="p">.</span><span class="n">ndefRecords</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">FmNdefRecord</span> <span class="o">*</span><span class="n">record</span> <span class="k">in</span> <span class="n">ndef</span><span class="p">.</span><span class="n">ndefRecords</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">record</span><span class="p">.</span><span class="n">url</span><span class="p">.</span><span class="n">absoluteString</span><span class="p">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
                        <span class="c1">// if there is a URL present in your tag, it will be here
</span>                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}];</span>
    <span class="p">}</span>

</code></pre><pre class="highlight swift"><code>
    <span class="kd">func</span> <span class="nf">didFind</span><span class="p">(</span><span class="n">_</span> <span class="nv">tag</span><span class="p">:</span> <span class="kt">FmTag</span><span class="o">!</span><span class="p">,</span> <span class="n">fromDevice</span> <span class="nv">deviceId</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">tag</span><span class="o">.</span><span class="n">readNdef</span> <span class="p">{</span> <span class="p">(</span><span class="n">ndefMessage</span><span class="p">)</span> <span class="k">in</span>
            <span class="k">guard</span> <span class="k">let</span> <span class="nv">ndefRecords</span> <span class="o">=</span> <span class="n">ndefMessage</span><span class="p">?</span><span class="o">.</span><span class="n">ndefRecords</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
            <span class="k">for</span> <span class="k">case</span> <span class="k">let</span> <span class="nv">record</span> <span class="k">as</span> <span class="kt">FmNdefRecord</span> <span class="k">in</span> <span class="n">ndefRecords</span> <span class="p">{</span>
               <span class="k">for</span> <span class="k">case</span> <span class="k">let</span> <span class="nv">record</span> <span class="k">as</span> <span class="kt">FmNdefRecord</span> <span class="k">in</span> <span class="n">ndefRecords</span> <span class="p">{</span>
                   <span class="k">guard</span> <span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
                   <span class="c1">// if there is a URL present in your tag, it will be here</span>
               <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

</code></pre>
<h2 id="writing-to-tags">Writing to Tags</h2>

<h3 id="writing-a-web-address-to-tags">Writing a Web Address to Tags</h3>

<p>In the <code class="prettyprint">didFindTagFromDevice</code> callback, initialize a <a href="#fmndefmessage">FmNdefMessage</a> with the <code class="prettyprint">createURIWithString</code> method and use it as a parameter on <code class="prettyprint">writeNdef</code> method
 on the <a href="#fmtag">FmTag</a> object to begin writing. The completion handler will indicate whether
 your operation was successful. </p>
<pre class="highlight objective_c"><code>
      <span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">didFindTag</span><span class="p">:(</span><span class="n">FmTag</span> <span class="o">*</span><span class="p">)</span><span class="nv">tag</span> <span class="nf">fromDevice</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">deviceUid</span><span class="p">{</span>
          <span class="n">FmNdefMessage</span> <span class="o">*</span><span class="n">message</span> <span class="o">=</span> <span class="p">[</span><span class="n">FmNdefMessage</span> <span class="nf">createURIWithString</span><span class="p">:</span><span class="s">@"https://flomio.com"</span><span class="p">];</span>
          <span class="p">[</span><span class="n">tag</span> <span class="nf">writeNdef</span><span class="p">:</span><span class="n">message</span> <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">success</span><span class="p">)</span> <span class="p">{</span>
              <span class="k">if</span> <span class="p">(</span><span class="n">success</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Tag written successfully"</span><span class="p">);</span>
              <span class="p">}</span>
          <span class="p">}];</span>
      <span class="p">}</span>

</code></pre><pre class="highlight swift"><code>
      <span class="kd">func</span> <span class="nf">didFind</span><span class="p">(</span><span class="n">_</span> <span class="nv">tag</span><span class="p">:</span> <span class="kt">FmTag</span><span class="o">!</span><span class="p">,</span> <span class="n">fromDevice</span> <span class="nv">deviceId</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">let</span> <span class="nv">ndefMessage</span> <span class="o">=</span> <span class="kt">FmNdefMessage</span><span class="o">.</span><span class="nf">createURI</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="s">"https://flomio.com"</span><span class="p">)</span>
          <span class="n">tag</span><span class="o">.</span><span class="nf">writeNdef</span><span class="p">(</span><span class="n">ndefMessage</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">success</span><span class="p">)</span> <span class="k">in</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">success</span><span class="p">)</span> <span class="p">{</span>
               <span class="nf">print</span><span class="p">(</span><span class="s">"Tag written successfully"</span><span class="p">)</span>
             <span class="p">}</span>
          <span class="p">}</span>
      <span class="p">}</span>

</code></pre>
<h3 id="writing-text-data-to-tags">Writing Text Data to Tags</h3>

<p>In the <code class="prettyprint">didFindTagFromDevice</code> callback, create one or more <a href="#fmndefrecord">FmNdefRecord</a>s
and initialize a <a href="#fmndefmessage">FmNdefMessage</a> with them. Call the <code class="prettyprint">writeNdef</code> method
 on the <a href="#fmtag">FmTag</a> object to begin writing. The completion handler will indicate whether
 your operation was successful. </p>
<pre class="highlight objective_c"><code>
     <span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">didFindTag</span><span class="p">:(</span><span class="n">FmTag</span> <span class="o">*</span><span class="p">)</span><span class="nv">tag</span> <span class="nf">fromDevice</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">deviceUid</span><span class="p">{</span>
         <span class="n">NSData</span> <span class="o">*</span><span class="n">type</span> <span class="o">=</span> <span class="p">[</span><span class="s">@"text/plain"</span> <span class="nf">dataUsingEncoding</span><span class="p">:</span><span class="n">NSASCIIStringEncoding</span><span class="p">];</span>
         <span class="n">NSData</span> <span class="o">*</span><span class="n">payload</span> <span class="o">=</span> <span class="p">[</span><span class="s">@"Hello World!"</span> <span class="nf">dataUsingEncoding</span><span class="p">:</span><span class="n">NSASCIIStringEncoding</span><span class="p">];</span>
         <span class="n">FmNdefRecord</span> <span class="o">*</span><span class="n">record</span> <span class="o">=</span> <span class="p">[[</span><span class="n">FmNdefRecord</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithTnf</span><span class="p">:</span><span class="n">kTNFMimeMedia</span> <span class="nf">andType</span><span class="p">:</span><span class="n">type</span> <span class="n">andId</span><span class="o">:</span><span class="nb">nil</span> <span class="n">andPayload</span><span class="o">:</span> <span class="n">payload</span><span class="p">];</span>
         <span class="n">FmNdefMessage</span> <span class="o">*</span><span class="n">message</span> <span class="o">=</span> <span class="p">[[</span><span class="n">FmNdefMessage</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithNdefRecords</span><span class="p">:@[</span><span class="n">record</span><span class="p">]];</span>
         <span class="p">[</span><span class="n">tag</span> <span class="nf">writeNdef</span><span class="p">:</span><span class="n">message</span> <span class="nf">success</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">success</span><span class="p">)</span> <span class="p">{</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">success</span><span class="p">)</span> <span class="p">{</span>
               <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Tag written successfully"</span><span class="p">);</span>
             <span class="p">}</span>
         <span class="p">}];</span>
     <span class="p">}</span>

</code></pre><pre class="highlight swift"><code>
     <span class="kd">func</span> <span class="nf">didFind</span><span class="p">(</span><span class="n">_</span> <span class="nv">tag</span><span class="p">:</span> <span class="kt">FmTag</span><span class="o">!</span><span class="p">,</span> <span class="n">fromDevice</span> <span class="nv">deviceId</span><span class="p">:</span> <span class="kt">String</span><span class="o">!</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">let</span> <span class="nv">type</span> <span class="o">=</span> <span class="s">"text/plain"</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="o">.</span><span class="n">ascii</span><span class="p">)</span>
         <span class="k">let</span> <span class="nv">record</span> <span class="o">=</span> <span class="kt">FmNdefRecord</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">tnf</span><span class="p">:</span> <span class="kt">Int16</span><span class="p">(</span><span class="n">kTNFMimeMedia</span><span class="p">),</span> <span class="nv">andType</span><span class="p">:</span> <span class="n">type</span><span class="p">,</span> <span class="nv">andId</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">andPayload</span><span class="p">:</span> <span class="s">"Hello World!"</span><span class="o">.</span><span class="nf">data</span><span class="p">(</span><span class="nv">using</span><span class="p">:</span> <span class="o">.</span><span class="n">ascii</span><span class="p">))</span>
         <span class="k">let</span> <span class="nv">message</span> <span class="o">=</span> <span class="kt">FmNdefMessage</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">ndefRecords</span><span class="p">:</span> <span class="p">[</span><span class="n">record</span><span class="o">!</span><span class="p">])</span>
         <span class="n">tag</span><span class="o">.</span><span class="nf">writeNdef</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">success</span><span class="p">)</span> <span class="k">in</span>
           <span class="k">if</span> <span class="p">(</span><span class="n">success</span><span class="p">)</span> <span class="p">{</span>
             <span class="nf">print</span><span class="p">(</span><span class="s">"Tag written successfully"</span><span class="p">)</span>
           <span class="p">}</span>
         <span class="p">}</span>
     <span class="p">}</span>

</code></pre>
<h2 id="find-uhf-rfid-tags">Find UHF RFID tags</h2>

<p>For FloJack Gen 2 device only.
 Use the <code class="prettyprint">rfidTagsToFind</code> parameter on the <a href="#fmconfiguration">FmConfiguration</a> object to only target specific tags.
 You must initialize a new <a href="#fmconfiguration">FmConfiguration</a> and call the <code class="prettyprint">setConfiguration</code> method on the 
 <a href="#FmSessionManager">FmSessionManager</a> object.</p>
<pre class="highlight objective_c"><code>
      <span class="n">FmConfiguration</span> <span class="o">*</span><span class="n">config</span> <span class="o">=</span> <span class="p">[[</span><span class="n">FmConfiguration</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
      <span class="n">config</span><span class="p">.</span><span class="n">rfidTagsToFind</span>  <span class="o">=</span> <span class="p">[[</span><span class="n">NSArray</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithObjects</span><span class="p">:</span><span class="s">@"1ABE1C0DE00000000000001B"</span><span class="p">,</span> <span class="nb">nil</span><span class="p">];</span>
      <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">flomioSDK</span> <span class="nf">setConfiguration</span><span class="p">:</span><span class="n">config</span><span class="p">];</span>

</code></pre><pre class="highlight swift"><code>
     <span class="k">let</span> <span class="nv">config</span> <span class="o">=</span> <span class="kt">FmConfiguration</span><span class="o">.</span><span class="nf">init</span><span class="p">()</span>
     <span class="n">config</span><span class="o">.</span><span class="n">rfidTagsToFind</span> <span class="o">=</span> <span class="p">[</span><span class="s">"1ABE1C0DE00000000000001B"</span><span class="p">]</span>
     <span class="k">self</span><span class="o">.</span><span class="n">flomioSDK</span><span class="o">.</span><span class="n">configuration</span> <span class="o">=</span> <span class="n">config</span>

</code></pre>
<h1 id="classes-and-methods">Classes and Methods</h1>

<h2 id="fmsessionmanagerdelegate">FmSessionManagerDelegate</h2>

<p>Add FmSessionManagerDelegate to receive scan events and reader status changes.</p>

<p>Here is a quick summary of the notifications your app will receive from the Flomio SDK. </p>

<table><thead>
<tr>
<th>Delegate Method</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>didFindTag</td>
<td>Returns a <a href="#fmtag">FmTag</a> object when a tag has been detected from the reader</td>
</tr>
<tr>
<td>didChangeStatus</td>
<td>Returns readers <a href="#communicationstatus">CommunicationStatus</a> along with other reader info</td>
</tr>
<tr>
<td>didGetLicenseInfo</td>
<td>When using the basic SDK, this connected displays whether the reader is licensed</td>
</tr>
<tr>
<td>didChangeCardStatus</td>
<td>Returns a <a href="#cardstatus">CardStatus</a> object when a tag has entered/left the readers range</td>
</tr>
<tr>
<td>didReceiveReaderError</td>
<td>Returns an error if there is a problem with the device</td>
</tr>
</tbody></table>

<h2 id="fmsessionmanager">FmSessionManager</h2>

<table><thead>
<tr>
<th>Method</th>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>startReaders</td>
<td></td>
<td>Enable paired or connected readers to begin polling for tags. This can mean different things depending on <a href="#poweroperation">PowerOperation</a> setting.</td>
</tr>
<tr>
<td>stopReaders</td>
<td></td>
<td>Disable paired or connected readers from polling for tags. This can mean different things depending on <a href="#poweroperation">PowerOperation</a> setting.</td>
</tr>
<tr>
<td>sleepReaders</td>
<td></td>
<td>Put FloBLE Plus reader to sleep. This will also configure the reader to sleep after 60 seconds.</td>
</tr>
<tr>
<td>sendApdu toDevice success</td>
<td>APDU String, deviceId: String, completionBlock</td>
<td>Send an APDU using your connected device.</td>
</tr>
<tr>
<td>updateCeNdef withDeviceUid</td>
<td>ndef: <a href="#ndefmessage">FmNdefMessage</a>, deviceId: String</td>
<td>Configure your FloBLE Plus to emulate a tag with new NDEF data. Use when <a href="#fmconfiguration">FmConfiguration</a>&rsquo;s isCeMode is true.</td>
</tr>
</tbody></table>

<h2 id="fmconfiguration">FmConfiguration</h2>

<p>You must first configure your settings and initialize the SDK. </p>

<p>Here is a description for each configuration item, some items are not relevant for some readers.</p>

<table><thead>
<tr>
<th>FmConfiguration</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>deviceType</td>
<td><a href="#devicetype">DeviceType</a></td>
<td>Choose your device type, you may only use one device type at a time.</td>
</tr>
<tr>
<td>scanSound</td>
<td>Boolean</td>
<td>Hear notifications from Flojack MSR.</td>
</tr>
<tr>
<td>scanPeriod</td>
<td>Number</td>
<td>Period of polling for Audiojack readers (ms).</td>
</tr>
<tr>
<td>powerOperation</td>
<td><a href="#poweroperation">PowerOperation</a></td>
<td>Determine power operation for FloBle Plus. The affects how <a href="#fmsessionmanager">startReader</a> and <a href="#fmsessionmanager">stopReader</a> control your FloBle Plus, either control bluetooth for low power operation or nfc polling for standard use.</td>
</tr>
<tr>
<td>transmitPower</td>
<td><a href="#transmitpower">TransmitPower</a></td>
<td>Control the power of the NFC polling on the FloBle Plus.</td>
</tr>
<tr>
<td>allowMulticonnect</td>
<td>Boolean</td>
<td>Control whether multiple FloBLE devices can connect simultaneously.</td>
</tr>
<tr>
<td>specificDeviceUid</td>
<td>String</td>
<td>Use the device id from back of device (or deviceId property) to only connect to a certain bluetooth reader. This is only for use when &lsquo;Allow Multiconnect&rsquo; = @0.</td>
</tr>
<tr>
<td>isCeMode</td>
<td>Boolean</td>
<td>Activates Card Emulation mode on FloBLE Plus</td>
</tr>
<tr>
<td>rfidTagsToFind</td>
<td>Array</td>
<td>Array of strings to indicate the identifiers of the RFID tags you want to target with your uGrokit UHF RFID reader.</td>
</tr>
</tbody></table>

<p><strong>Note:</strong> Booleans listed are NSNumber initialized with Booleans. Use @YES/@No in Objective-C and true/false in Swift</p>

<h2 id="fmtag">FmTag</h2>

<p>This is returned when a tag is tapped from the didFindTag:tag fromDevice:deviceId delegate method on <a href="#fmsessionmanagerdelegate">FmSessionManagerDelegate</a></p>

<p>Properties</p>

<table><thead>
<tr>
<th>FmTag</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>atr</td>
<td>String</td>
<td>The ATR can be used to determine the type of tag.</td>
</tr>
<tr>
<td>uid</td>
<td>String</td>
<td>The Unique Identifier of the tag.</td>
</tr>
</tbody></table>

<p>Methods</p>

<table><thead>
<tr>
<th>Method</th>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>readNdef</td>
<td>completionBlock</td>
<td>Returns the FmNdefMessage read from the tag in a completion block</td>
</tr>
<tr>
<td>writeNdef</td>
<td>FmNdefMessage, completionBlock</td>
<td>Pass a NDEF message to write, returns boolean to indicate whether tag was written successfully</td>
</tr>
</tbody></table>

<h2 id="fmndefmessage">FmNdefMessage</h2>

<p><code class="prettyprint">Object</code></p>

<p>Represents an NDEF (NFC Data Exchange Format) data message that contains one or more <a href="#ndefrecord">FmNdefRecords</a>.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ndefRecords</td>
<td>Array of <a href="#ndefrecord">FmNdefRecord</a>s</td>
<td>An array of <a href="#ndefrecord">FmNdefRecord</a>s.</td>
</tr>
<tr>
<td>error</td>
<td>Error</td>
<td>Will explain the reason if there was a problem reading/parsing the data on the tag.</td>
</tr>
</tbody></table>

<h2 id="fmndefrecord">FmNdefRecord</h2>

<p><code class="prettyprint">Object</code></p>

<p>Represents a NDEF (NFC Data Exchange Format) record as defined by the NDEF specification.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tnf</td>
<td>Number</td>
<td>The Type Name Format field of the payload.</td>
</tr>
<tr>
<td>type</td>
<td>Data</td>
<td>The type of the payload.</td>
</tr>
<tr>
<td>id</td>
<td>Data</td>
<td>The identifier of the payload</td>
</tr>
<tr>
<td>payload</td>
<td>Data</td>
<td>The data of the payload</td>
</tr>
<tr>
<td>url</td>
<td>URL?</td>
<td>An optional convenience parameter which will return the payload as a URI for URI records.</td>
</tr>
</tbody></table>

<h2 id="devicetype">DeviceType</h2>

<p><code class="prettyprint">enum</code></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>kFlojackBzr</td>
<td>Number</td>
<td><code class="prettyprint">1</code></td>
<td>FloJack BZR</td>
</tr>
<tr>
<td>kFlojackMsr</td>
<td>Number</td>
<td><code class="prettyprint">2</code></td>
<td>FloJack MSR</td>
</tr>
<tr>
<td>kFloBleEmv</td>
<td>Number</td>
<td><code class="prettyprint">3</code></td>
<td>FloBLE EMV</td>
</tr>
<tr>
<td>kFloBlePlus</td>
<td>Number</td>
<td><code class="prettyprint">4</code></td>
<td>FloBLE Plus</td>
</tr>
<tr>
<td>uGrokit</td>
<td>Number</td>
<td><code class="prettyprint">5</code></td>
<td>uGrokit / Flojack Gen 2</td>
</tr>
</tbody></table>

<h2 id="poweroperation">PowerOperation</h2>

<p><code class="prettyprint">enum</code></p>

<p>Parameter of <a href="#fmconfiguration">FmConfiguration</a> for configuring the power of FloBLE Plus.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>AutoPollingControl</td>
<td>Number</td>
<td><code class="prettyprint">0</code></td>
<td>startReaders and stopReaders turns on/off the reader from polling.</td>
</tr>
<tr>
<td>BluetoothConnectionControl</td>
<td>Number</td>
<td><code class="prettyprint">1</code></td>
<td>startReaders and stopReaders turns on/off bluetooth, this can be used when exiting from/returning to your app.</td>
</tr>
</tbody></table>

<h2 id="communicationstatus">CommunicationStatus</h2>

<p><code class="prettyprint">enum</code></p>

<p>This is returned when there is a status update from the didChangeStatus delegate method on <a href="#fmsessionmanagerdelegate">FmSessionManagerDelegate</a></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Scanning</td>
<td>Number</td>
<td><code class="prettyprint">0</code></td>
<td>The device is connected and scanning for tags.</td>
</tr>
<tr>
<td>Connected</td>
<td>Number</td>
<td><code class="prettyprint">1</code></td>
<td>The device is connected to bluetooth but not scanning for tags.</td>
</tr>
<tr>
<td>Disconnected</td>
<td>Number</td>
<td><code class="prettyprint">2</code></td>
<td>The device is disconnected from bluetooth and not scanning for tags.</td>
</tr>
</tbody></table>

<h2 id="cardstatus">CardStatus</h2>

<p><code class="prettyprint">enum</code></p>

<p>This is returned when when a tag has entered/left the readers range from the didChangeCardStatus delegate method on <a href="#fmsessionmanagerdelegate">FmSessionManagerDelegate</a></p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>NotPresent</td>
<td>Number</td>
<td><code class="prettyprint">0</code></td>
<td>A tag is not in range of the reader</td>
</tr>
<tr>
<td>Present</td>
<td>Number</td>
<td><code class="prettyprint">1</code></td>
<td>A tag is in range of the reader.</td>
</tr>
</tbody></table>

<h2 id="transmitpower">TransmitPower</h2>

<p><code class="prettyprint">enum</code></p>

<p>Parameter of <a href="#fmconfiguration">FmConfiguration</a> Used to determine the strength of the FloBLE Plus&rsquo;s transmit power.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>VeryLowPower</td>
<td>Number</td>
<td><code class="prettyprint">0</code></td>
<td>Lowest power setting</td>
</tr>
<tr>
<td>LowPower</td>
<td>Number</td>
<td><code class="prettyprint">1</code></td>
<td></td>
</tr>
<tr>
<td>MediumPower</td>
<td>Number</td>
<td><code class="prettyprint">2</code></td>
<td></td>
</tr>
<tr>
<td>HighPower</td>
<td>Number</td>
<td><code class="prettyprint">3</code></td>
<td>Highest power setting</td>
</tr>
</tbody></table>

<h1 id="troubleshooting">Troubleshooting</h1>

<p>Please visit <a href="https://flomio.com/forums/forum/ask-the-flomies/">the forums</a> for help and to see previous questions.</p>

<h2 id="unsupported-architecture">Unsupported Architecture</h2>

<p>When submitting to the App Store, if you get the Error <code class="prettyprint">ERROR ITMS-90087: Unsupported Architecture. Your executable contains unsupported architecture &#39;[x86_64, i386]&#39;.&quot;</code>
 Add a Run Script step to your build steps, put it after your step to embed frameworks, set it to use <code class="prettyprint">/bin/sh</code> and enter the following script:</p>
<pre class="highlight shell"><code> <span class="nv">APP_PATH</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">TARGET_BUILD_DIR</span><span class="k">}</span><span class="s2">/</span><span class="k">${</span><span class="nv">WRAPPER_NAME</span><span class="k">}</span><span class="s2">"</span>

 <span class="c"># This script loops through the frameworks embedded in the application and</span>
 <span class="c"># removes unused architectures.</span>
 find <span class="s2">"</span><span class="nv">$APP_PATH</span><span class="s2">"</span> -name <span class="s1">'*.framework'</span> -type d | <span class="k">while </span><span class="nb">read</span> -r FRAMEWORK
 <span class="k">do
     </span><span class="nv">FRAMEWORK_EXECUTABLE_NAME</span><span class="o">=</span><span class="k">$(</span>defaults <span class="nb">read</span> <span class="s2">"</span><span class="nv">$FRAMEWORK</span><span class="s2">/Info.plist"</span> CFBundleExecutable<span class="k">)</span>
     <span class="nv">FRAMEWORK_EXECUTABLE_PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$FRAMEWORK</span><span class="s2">/</span><span class="nv">$FRAMEWORK_EXECUTABLE_NAME</span><span class="s2">"</span>
     <span class="nb">echo</span> <span class="s2">"Executable is </span><span class="nv">$FRAMEWORK_EXECUTABLE_PATH</span><span class="s2">"</span>

     <span class="nv">EXTRACTED_ARCHS</span><span class="o">=()</span>

     <span class="k">for </span>ARCH <span class="k">in</span> <span class="nv">$ARCHS</span>
     <span class="k">do
         </span><span class="nb">echo</span> <span class="s2">"Extracting </span><span class="nv">$ARCH</span><span class="s2"> from </span><span class="nv">$FRAMEWORK_EXECUTABLE_NAME</span><span class="s2">"</span>
         lipo -extract <span class="s2">"</span><span class="nv">$ARCH</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$FRAMEWORK_EXECUTABLE_PATH</span><span class="s2">"</span> -o <span class="s2">"</span><span class="nv">$FRAMEWORK_EXECUTABLE_PATH</span><span class="s2">-</span><span class="nv">$ARCH</span><span class="s2">"</span>
         EXTRACTED_ARCHS+<span class="o">=(</span><span class="s2">"</span><span class="nv">$FRAMEWORK_EXECUTABLE_PATH</span><span class="s2">-</span><span class="nv">$ARCH</span><span class="s2">"</span><span class="o">)</span>
     <span class="k">done

     </span><span class="nb">echo</span> <span class="s2">"Merging extracted architectures: </span><span class="k">${</span><span class="nv">ARCHS</span><span class="k">}</span><span class="s2">"</span>
     lipo -o <span class="s2">"</span><span class="nv">$FRAMEWORK_EXECUTABLE_PATH</span><span class="s2">-merged"</span> -create <span class="s2">"</span><span class="k">${</span><span class="nv">EXTRACTED_ARCHS</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span>
     rm <span class="s2">"</span><span class="k">${</span><span class="nv">EXTRACTED_ARCHS</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span>

     <span class="nb">echo</span> <span class="s2">"Replacing original executable with thinned version"</span>
     rm <span class="s2">"</span><span class="nv">$FRAMEWORK_EXECUTABLE_PATH</span><span class="s2">"</span>
     mv <span class="s2">"</span><span class="nv">$FRAMEWORK_EXECUTABLE_PATH</span><span class="s2">-merged"</span> <span class="s2">"</span><span class="nv">$FRAMEWORK_EXECUTABLE_PATH</span><span class="s2">"</span>

 <span class="k">done</span>
</code></pre>
<p>credit: <a href="http://ikennd.ac/blog/2015/02/stripping-unwanted-architectures-from-dynamic-libraries-in-xcode/">Daniel Kennett</a></p>

<h1 id="android-integration">Android Integration</h1>

<h1 id="nfc-actions-amp-ifttt">NFC Actions &amp; IFTTT</h1>

<p>The recently revamped <a href="https://appsto.re/ie/AQ-bN.i">NFC Actions app</a> is now available in the App Store. 🎉🍾🥂</p>

<p>Use your <a href="https://flomio.com/shop/readers/floble-plus-nfc-reader-for-mobile/">FloBle Plus</a> to write and read NFC tags (specifically Mifare Ultralight tags).</p>

<p>It also works with <a href="https://ifttt.com/">IFTTT</a> so you can use NFC to automate your daily routine or prototype your NFC start-up without needing a front end app! </p>

<p>For example, with IFTTT combined with NFC Actions, you can log employees time and attendance, you can monitor inventory or control smart devices with a tap! </p>

<h2 id="set-up-your-ifttt">Set up your IFTTT</h2>

<h3 id="create-ifttt-account">Create IFTTT Account</h3>

<p>First, you obviously need a <a href="https://ifttt.com/join">IFTTT account</a>. </p>

<h3 id="get-maker-webhook-url">Get Maker Webhook URL</h3>

<p>Then you&rsquo;ll need to go to get your Maker Webhook URL from the Maker Webhook settings. First connect <a href="https://ifttt.com/services/maker_webhooks/settings/connect">Maker Webhooks</a> and then copy your Maker URL which should look like this: </p>

<p>https://maker.ifttt.com/use/ciaOj1jhrldDVFHVn3XwwG-QTh18JHbQoiB3b-Cd02h</p>

<p>Side note (optional): Navigate to your Maker URL to see details about how to make HTTP POST requests to trigger events.</p>

<h2 id="create-your-ifttt-applet">Create your IFTTT Applet</h2>

<p>You want to create your IFTTT Applet using Maker Webhooks to trigger your event&hellip; Sounds a lot more complicated than it is.</p>

<p>Go to <a href="https://ifttt.com/create">IFTTT Create</a>. Click &ldquo;+this&rdquo;, search &#39;Maker Webhooks&rsquo; and select it. Select &#39;Receive a web request&rsquo; and name your event to, for example, &#39;tag_scanned&rsquo;.</p>

<p>Side note (optional): For more precise control, you can use the each tag Uid to trigger different events by setting the Event name to the Uid. </p>

<p>Now click &rsquo;+that&rsquo;, we will use iOS Calendar as an example here but you can use what you want. Click &#39;create a calendar event&rsquo;. Now configure your event to show the details of the tag scan. Type &#39;Now&rsquo; into start time, click &#39;create&rsquo; and &#39;finish&rsquo;.   </p>

<p>Below are details of the values/&#39;ingredients&rsquo; sent with the trigger.</p>

<h2 id="ifttt-ingredients">IFTTT Ingredients</h2>

<table><thead>
<tr>
<th>Ingredient</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Value1</td>
<td>Tag Uid</td>
</tr>
<tr>
<td>Value2</td>
<td>Tag Location in Google Maps</td>
</tr>
<tr>
<td>Value3</td>
<td>Tag Payload (write to tag in NFC Actions to use this)</td>
</tr>
</tbody></table>

<h3 id="paste-the-url-in-nfc-actions">Paste the URL in NFC Actions</h3>

<p>Now that you have your Maker URL and Maker Event Name, go to the <a href="https://appsto.re/ie/AQ-bN.i">NFC Actions app</a> and navigate to settings and paste them into the IFTTT settings fields. </p>

<h1 id="frequently-asked-questions">Frequently Asked Questions</h1>

<table><thead>
<tr>
<th>Q</th>
<th>A</th>
</tr>
</thead><tbody>
<tr>
<td>Can the SDK run in the background?</td>
<td>We don&rsquo;t expect Apps to ever be able operate FloJacks in the background. The FloJack requires a heartbeat handshake in order to prevent it from going into sleep mode and it&rsquo;s not possible to handle from background. The active/inactive methods in the ViewController are meant to wake/sleep the reader during foregrounding/backgrounding. The FloBLE products are able to operate from a backgrounded app state. Also several of the same FloBLE products can connect to the iOS device at once (max 7 connected FloBLEs at a time).</td>
</tr>
<tr>
<td>What&rsquo;s the difference between the Basic SDK and the Pro SDK?</td>
<td>The Flomio SDK is currently sold on the per device license. That means that if you build an app with the Flomio SDK it will only work with readers that have valid licenses. Every FloJack and FloBLE reader we sell includes the Basic SDK license. This license is checked against reader device ID every time your app runs by checking our online database. That means that you need have web connectivity for the Basic SDK to work. For customers that need more flexibility, the Pro SDK is able to operate completely offline. The license is checked inside the Pro SDK bundle itself so you&rsquo;re always guaranteed a good result.</td>
</tr>
<tr>
<td>Can I read and write NDEF data to tags with my reader?</td>
<td>We recommend using the FloBLE Plus or FloBLE Noir to read and write data as the audio-jack data throughput is slow and unreliable. See <a href="#fmtag">FmTag</a> for methods to read and write NDEF data.</td>
</tr>
</tbody></table>

<p>Please visit <a href="https://flomio.com/forums/forum/ask-the-flomies/">the forums</a> for help and to see previous questions.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="objective_c">objective_c</a>
                <a href="#" data-language-name="swift">swift</a>
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
